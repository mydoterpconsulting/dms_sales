{
 "creation": "2024-01-18 18:14:34.117734",
 "docstatus": 0,
 "doctype": "Client Script",
 "dt": "Prospect Booking Form",
 "enabled": 1,
 "idx": 0,
 "modified": "2024-02-16 00:03:02.911888",
 "modified_by": "alif.jefrey@mydotconsulting.com",
 "module": "DMS Sales",
 "name": "Filter variant and color",
 "owner": "amirul.zulkefli@mydotconsulting.com",
 "script": "frappe.ui.form.on('Prospect Booking Form', {\n    refresh: function (frm) {\n        // Add a trigger on the model field change event\n        frm.fields_dict['car_model'].get_query = function (doc, cdt, cdn) {\n            return {\n                filters: {\n                    // none\n                }\n            };\n        };\n\n       \n        frm.fields_dict['car_model_variant'].get_query = function (doc, cdt, cdn) {\n            // Get the selected model value\n            var car_model = locals[cdt][cdn].car_model;\n\n           \n            return {\n                filters: {\n                    'car_model': car_model\n                }\n            };\n        };\n        \n    \n        \n\n        // Add a trigger on the color field change event\n        frm.fields_dict['first_choice_color_link'].get_query = function (doc, cdt, cdn) {\n            // Get the selected model value\n            var car_model = locals[cdt][cdn].car_model;\n            var car_model_variant = locals[cdt][cdn].car_model_variant;\n\n            // Return car model color\n            return {\n                filters: {\n                'car_model': car_model,\n                'car_model_variant': car_model_variant\n                }\n            };\n        };\n        \n         // Add a trigger on the color field change event\n        frm.fields_dict['second_choice_color'].get_query = function (doc, cdt, cdn) {\n            // Get the selected model value\n            var car_model = locals[cdt][cdn].car_model;\n            var car_model_variant = locals[cdt][cdn].car_model_variant;\n\n            // Return car model color\n            return {\n                filters: {\n                    'car_model': car_model,\n                    'car_model_variant': car_model_variant\n                }\n            };\n        };\n        \n         frm.fields_dict['third_choice_color'].get_query = function (doc, cdt, cdn) {\n            // Get the selected model value\n            var car_model = locals[cdt][cdn].car_model;\n            var car_model_variant = locals[cdt][cdn].car_model_variant;\n\n            // Return car model color\n            return {\n                filters: {\n                   'car_model': car_model,\n                    'car_model_variant': car_model_variant\n                }\n            };\n        };\n    }\n});\n",
 "view": "Form"
}